<html>
  <head>
  <link rel="stylesheet" type="text/css" href="mycss.css" />
	<title> 2D image simulator </title>

       <script type="text/javascript">
		var health =100;
            function leftArrowPressed() {
                var element = document.getElementById("image1");
                element.style.left = parseInt(element.style.left) - 5 + 'px';
            }

            function rightArrowPressed() {
                var element = document.getElementById("image1");
                element.style.left = parseInt(element.style.left) + 5 + 'px';
            }

            function upArrowPressed() {
                var element = document.getElementById("image1");
                element.style.top = parseInt(element.style.top) - 5 + 'px';
            }

            function downArrowPressed() {
                var element = document.getElementById("image1");
                element.style.top = parseInt(element.style.top) + 5 + 'px';
            }

     
    function moveSelection(evt) {
        switch (evt.keyCode) {
            case 37:
            leftArrowPressed();
            break;
            case 39:
            rightArrowPressed();
            break;
            case 38:
            upArrowPressed();
            break;
            case 40:
            downArrowPressed();
            break;
            }
        };

		function reCall()
		{ 
			window.addEventListener('keydown', moveSelection);
			document.getElementById('health').innerHTML = health;
			Detection();
		}

		function Detection()
		{
     var enemies = document.getElementsByClassName("enemy");
    var plane= document.getElementById("image1");
    for (i = 0; i < enemies.length; i++) {
         element=enemies[i];
        
        if(collision(element,plane)){
            
            if(health>25){
                
				element.style.display = "none";
				health-=25;
                document.getElementById('health').innerHTML = health;
            }
			else{
                 for (i = 0; i < enemies.length; i++) {
                    element=enemies[i];
                    element.style.display="none";
                    plane.style.top="0px";
                    plane.style.left="0px";
					health=0;
					 document.getElementById('health').innerHTML = health;
                 }
                alert("Game Over")
            }
        }
    
     }
    setTimeout('Detection()',50);
    
}
		
		function collision(a, b) {
    return !(
        ((a.offsetTop + a.clientHeight) < (b.offsetTop)) ||
        (a.offsetTop > (b.offsetTop + b.clientHeight)) ||
        ((a.offsetLeft + a.clientWidth) < b.offsetLeft) ||
        (a.offsetLeft > (b.offsetLeft + b.clientWidth))
    );
}
function killEnemy()
{
		var updiv= document.getElementById("enemies");
     var enemies = document.getElementsByClassName("enemy");
    
    for (i = 0; i < enemies.length; i++) {
         element=enemies[i];
         if(parseInt(element.offsetLeft )<100){
            updiv.removeChild(element);
             
         }
    }

}
		function randommove() {
            		element.getElementById('img1').style.top = Math.floor((Math.random() * 700) + 1) + "px";
			element.getElementById('img2').style.top = Math.floor((Math.random() * 700) + 1)+ "px";
			element.getElementById('img3').style.top = Math.floor((Math.random() * 700) + 1)+ "px";
				element.getElementById('img4').style.top = Math.floor((Math.random() * 700) + 1) + "px";
			element.getElementById('img5').style.top = Math.floor((Math.random() * 700) + 1)+ "px";
			element.getElementById('img6').style.top = Math.floor((Math.random() * 700) + 1)+ "px";	
			element.getElementById('img7').style.top = Math.floor((Math.random() * 700) + 1)+ "px";
			element.getElementById('img8').style.top = Math.floor((Math.random() * 700) + 1)+ "px";	
			element.getElementById('img9').style.top = Math.floor((Math.random() * 700) + 1)+ "px";
			element.getElementById('img10').style.top = Math.floor((Math.random() * 700) + 1)+ "px";	
			element.getElementById('img11').style.top = Math.floor((Math.random() * 700) + 1)+ "px";
			element.getElementById('img12').style.top = Math.floor((Math.random() * 700) + 1)+ "px";
        	}
  </script>
  </head>

  <body onload="reCall();"onkeydown="" onkeyup="">

   <div >
   
  <img  id="image1" src="aeroplane.png" style="position: absolute;  right: 15; left: 15; top: 15; bottom: auto; " height="150" width="150">
  </div>
  <div class="enemies">
  <div id=img1 class="enemy"><img src="block.png"/></div>
  <div id=img2 class="enemy"><img src="block.png"/></div>
  <div id=img3 class="enemy"><img src="block.png"/></div>
    <div id=img4 class="enemy"><img src="block.png"/></div>
  <div id=img5 class="enemy"><img src="block.png"/></div>
  <div id=img6 class="enemy"><img src="block.png"/></div>
    <div id=img7 class="enemy"><img src="block.png"/></div>
  <div id=img8 class="enemy"><img src="block.png"/></div>
  <div id=img9 class="enemy"><img src="block.png"/></div>
  <div id=img10 class="enemy"><img src="block.png"/></div>
  <div id=img11 class="enemy"><img src="block.png"/></div>
  <div id=img12 class="enemy"><img src="block.png"/></div>
  </div>
  
  <div class="Health">
    <p ><b>Health :</b></p>
    <p id="health">0</p>
  </div>
  </body>
</html>